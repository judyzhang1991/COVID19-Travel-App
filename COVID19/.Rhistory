labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
guides( fill = guide_legend()) +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
legend.position = "bottom",
text = element_text(color = "#22211d"),
plot.background = element_rect(fill = "#ffffff", color = NA),
panel.background = element_rect(fill = "#ffffff", color = NA),
legend.background = element_rect(fill = "#ffffff", color = NA)
)
}
covid_map(dat, date_input, legend_title)
# Cutoffs based on the number of cases
val_breaks <- c(1, 20 , 100, 1000, 50000)
covid_map <- function(dat, date_input, legend_title) {
## Filter date to find the given date
plot_dat <- dat %>%
filter(date == date_input)
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom)) +
scale_color_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
guides( fill = guide_legend()) +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
legend.position = "bottom",
text = element_text(color = "#22211d"),
plot.background = element_rect(fill = "#ffffff", color = NA),
panel.background = element_rect(fill = "#ffffff", color = NA),
legend.background = element_rect(fill = "#ffffff", color = NA)
)
}
covid_map(dat, date_input, legend_title)
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom)) +
scale_color_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+"))
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom)) +
scale_fill_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+"))
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom)) +
scale_fill_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
guides(fill = guide_legend()) +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
legend.position = "bottom",
text = element_text(color = "#22211d"),
plot.background = element_rect(fill = "#ffffff", color = NA),
panel.background = element_rect(fill = "#ffffff", color = NA),
legend.background = element_rect(fill = "#ffffff", color = NA)
)
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom)) +
scale_fill_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
#guides(fill = guide_legend()) +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
legend.position = "bottom",
text = element_text(color = "#22211d"),
plot.background = element_rect(fill = "#ffffff", color = NA),
panel.background = element_rect(fill = "#ffffff", color = NA),
legend.background = element_rect(fill = "#ffffff", color = NA)
)
covid_map <- function(dat, date_input, legend_title) {
## Filter date to find the given date
plot_dat <- dat %>%
filter(date == date_input)
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
}
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
panel.grid = element_blank(),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_viridis_c(option="inferno",
name=legend_title,
trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
panel.grid = element_blank(),
### Axis ###
axis.text = element_blank(),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
View(plot_dat)
ggplot(plot_dat) +
geom_sf(aes(fill = categ,
geometry = geom),
color = "white") +
scale_fill_viridis_c(option="inferno",
name=legend_title,
#trans="log",
breaks=val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
panel.grid = element_blank(),
### Axis ###
axis.text = element_blank(),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
# Cutoffs based on the number of cases
val_breaks <- c(1, 20 , 100, 1000, 50000)
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_manual(name=legend_title,
values = c("#FFFFB2",
"#FED976",
"#FEB24C",
"#FD8D3C",
"#F03B20"),
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
panel.grid = element_blank(),
### Axis ###
axis.text = element_blank(),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
ggplot(plot_dat) +
geom_sf(aes(fill = categ,
geometry = geom),
color = "white") +
scale_fill_manual(name=legend_title,
values = c("#FFFFB2",
"#FED976",
"#FEB24C",
"#FD8D3C",
"#F03B20"),
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
panel.grid = element_blank(),
### Axis ###
axis.text = element_blank(),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
ggplot(plot_dat) +
geom_sf(aes(fill = categ,
geometry = geom),
color = "white") +
scale_fill_manual(name=legend_title,
values = c("#FFFFB2",
"#FED976",
"#FEB24C",
"#FD8D3C",
"#F03B20"),
breaks = val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
panel.grid = element_blank(),
### Axis ###
axis.text = element_blank(),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
ggplot(plot_dat) +
geom_sf(aes(fill = categ,
geometry = geom),
color = "white") +
scale_fill_manual(name=legend_title,
values = c("#FFFFB2",
"#FED976",
"#FEB24C",
"#FD8D3C",
"#F03B20"),
breaks = val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+"))
ggplot(plot_dat) +
geom_sf(aes(fill = categ,
geometry = geom),
color = "white") +
scale_fill_manual(name=legend_title,
values = c("red",
"green",
"yellow",
"purple",
"black"),
breaks = val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+"))
ggplot(plot_dat) +
geom_sf(aes(fill = factor(categ),
geometry = geom),
color = "white") +
scale_fill_manual(name=legend_title,
values = c("red",
"green",
"yellow",
"purple",
"black"),
breaks = val_breaks,
labels = c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+"))
ggplot(plot_dat) +
geom_sf(aes(fill = factor(categ),
geometry = geom),
color = "white") +
scale_fill_gradientn(name = legend_title,
breaks = val_breaks,
#labels = key_labs,
colors = c("yellow", "black"))
ggplot(plot_dat) +
geom_sf(aes(fill = factor(categ),
geometry = geom),
color = "white") +
scale_fill_manual(name = legend_title,
breaks = val_breaks,
#labels = key_labs,
colors = c("yellow", "black", "red", "orange", "blue"))
ggplot(plot_dat) +
geom_sf(aes(fill = factor(categ),
geometry = geom),
color = "white") +
scale_fill_manual(name = legend_title,
breaks = val_breaks,
#labels = key_labs,
values = c("yellow", "black", "red", "orange", "blue"))
typeof(as.factor(plot_dat$categ))
typeof(plot_dat$categ)
ggplot(plot_dat) +
geom_sf(aes(fill = as.factor(categ),
geometry = geom),
color = "white") +
scale_fill_manual(name = legend_title,
breaks = val_breaks,
#labels = key_labs,
values = c("yellow", "black", "red", "orange", "blue"))
ggplot(plot_dat) +
geom_sf(aes(fill = as.factor(categ),
geometry = geom),
color = "white") +
scale_fill_gradientn(name = legend_title,
breaks = val_breaks,
#labels = key_labs,
colors = c("yellow", "orange", "red"))
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_gradientn(name = legend_title,
breaks = val_breaks,
#labels = key_labs,
colors = c("yellow", "orange", "red"))
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_gradientn(name = legend_title,
breaks = val_breaks,
labels = val_breaks,
colors = c("yellow", "orange", "red"))
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_gradientn(name = legend_title,
breaks = val_breaks,
labels = val_breaks,
colors = c("#FFFFB2", "#FD8D3C", "#B10026"))
key_labs <- c("1-19,
20-99,
100-999,
1,000-49,999,
50,000+")
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_gradientn(name = legend_title,
breaks = val_breaks,
labels = key_labs,
colors = c("#FFFFB2", "#FD8D3C", "#B10026"))
length(val_breaks)
length(key_labs)
key_labs <- c("1-19",
"20-99",
"100-999",
"1,000-49,999",
"50,000+")
ggplot(plot_dat) +
geom_sf(aes(fill = cases,
geometry = geom),
color = "white") +
scale_fill_gradientn(name = legend_title,
breaks = val_breaks,
labels = key_labs,
colors = c("#FFFFB2", "#FD8D3C", "#B10026")) +
theme_minimal() +
labs(caption = "Data Repository provided by Johns Hopkins CSSE.") +
theme(
### Plot ###
plot.background = element_rect(fill = "#ffffff", color = NA),
### Panel ###
panel.background = element_rect(fill = "#ffffff", color = NA),
panel.grid = element_blank(),
### Axis ###
axis.text = element_blank(),
### Legend ###
legend.position = "bottom",
legend.background = element_rect(fill = "#ffffff", color = NA),
### Text ###
text = element_text(color = "#22211d"),
)
